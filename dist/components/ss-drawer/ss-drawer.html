<style>
ss-drawer {
  display: none;
}
</style>

<script>
(function() {
  var SSDrawerPrototype;

  SSDrawerPrototype = Object.create(HTMLElement.prototype);

  SSDrawerPrototype.createdCallback = function() {
    this.location = this.getAttribute("location");
    this.side = this.getAttribute("side");
    this.drawer = new steroids.views.WebView(this.location);
    return this._preloaded = false;
  };

  SSDrawerPrototype._preload = function(callback) {
    var that;
    if (this._preloaded === false) {
      that = this;
      return this.drawer.preload({}, {
        onSuccess: function() {
          that._preloaded = true;
          return callback.apply(that);
        }
      });
    } else {
      return callback.apply(this);
    }
  };

  SSDrawerPrototype.showDrawer = function() {
    var that;
    that = this;
    return this._preload(that._openDrawer);
  };

  SSDrawerPrototype._openDrawer = function() {
    var drawer, params, side;
    side = this.side;
    drawer = this.drawer;
    params = {};
    params[side] = drawer;
    steroids.drawers.update(params);
    return steroids.drawers.show({
      edge: steroids.screen.edges[side.toUpperCase()]
    });
  };

  document.registerElement("ss-drawer", {
    prototype: SSDrawerPrototype
  });

}).call(this);

</script>