{% for section in page.sections %}
{% unless section.id %}
  {% assign section_id = section.name | slugify %}
{% else %}
  {% assign section_id = section.id %}
{% endunless %}

{% if section_id == "components" %}
  {% assign main_namespace = "" %}
{% else %}
  {% assign main_namespace = "supersonic/" %}
{% endif %}

<ul class="nav left-menu {% if page.section_id == section_id %}active-menu{% endif %}">
  <li class="menu-title">
    <a href="/api-reference/stable/{{main_namespace}}{{section_id}}">{{section.name}}</a>
    {% if page.section_id == section_id %}
      {% for subsection in section.subsections %}
        {% if subsection.id %}
          {% assign subsection_id = subsection.id %}
        {% else %}
          {% assign subsection_id = subsection.name | slugify %}
        {% endif %}
        <li class="menu-section {% if page.subsection_id == subsection_id %}active{% endif %}">
          <a href="/api-reference/stable/{{main_namespace}}{{section_id}}/{{subsection_id}}" class="api-section">
            {% if subsection.method %}
              <code>{{subsection.name}}()</code>
            {% else %}
              {{subsection.name}}
            {% endif %}
          </a>
          {% if page.subsection_id == subsection_id %}
            <ul>
              {% for method in subsection.methods %}
              <li>
                <a href="/api-reference/stable/{{main_namespace}}{{section_id}}/{{subsection_id}}/{{method.name | slugify}}">
                  â†³ <code>{{method.name}}()</code>
                </a>
              </li>
              {% endfor %}
            </ul>
          {% endif %}
        </li>
      {% endfor %}
    {% endif %}
  </li>
</ul>
{% endfor %}
